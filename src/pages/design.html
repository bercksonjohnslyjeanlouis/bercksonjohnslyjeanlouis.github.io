<section class="about section" x-cloak
         x-init="$store.database.get_designs(); to_top()"
         x-data="{ current_category : null }"
>
    <div class="section-inner-g">
        <div class="content width-full" x-show="$store.database.loaded_designs">


                <div class="d-flex px-0 mx-0 justify-content-center align-items-center text-center pt-2 pb-4 ps-2">
                    <button @click="current_category  = null"  class="mx-1"
                            :class="current_category === null ? 'btn btn-cta-primary-1' : 'btn btn-cta-primary-2'"
                    >
                       *
                    </button>
                    <template x-for="category in $store.database.designs_categories">
                        <button x-text="category"
                                class="mx-1"
                                @click="current_category = category"
                                :class="current_category === category ? 'btn btn-cta-primary-1' : 'btn btn-cta-primary-2'"
                        >
                        </button>
                    </template>
                </div>

                <div class="row px-0 mx-0" id="designs_viewer">

                    <template class="" x-for="design in $store.database.filter_designs(current_category)">
                            <div class="col-12 col-md-6 mx-0 mb-4 px-0 align-items-center d-flex justify-content-center align-items-center text-center">
                                <div class="mx-0 px-0">
                                <div class="width-full mx-0 px-0">
                                    <div class="width-100 mx-0 px-0" x-data="{i_load:false}"  style="text-align: center">
                                            <div class="loader pt-4" x-show="!i_load">
                                                <div class="loader-wheel"></div>
                                                <div class="loader-text"></div>
                                            </div>
                                        <img class="card-img-top border border-1 border-gray rounded rounded-2 px-0 mx-0" :title="design.description"
                                             :src="design.image" x-show="i_load"
                                             :alt="design.description"  @load="i_load = true"
                                             >
                                    </div>
                                </div>
                                <div class="col px-0 mx-0" style="display:none">
                                    <div class="overflow-hidden flex-nowrap width-full px-0 mx-0" style="text-align: center">
                                            <span class="mb-1 text-center py-2">
                                                <span x-text="design.description" style="text-align: justify"
                                                      class="text-reset"></span>
                                            </span>
                                    </div>
                                </div>
                                </div>
                            </div>

                    </template>

                </div>

        </div>

        <div class="my-3 d-flex justify-content-center align-items-center text-center">
            <div class="loader" x-show="!$store.database.loaded_designs">
                <div class="loader-wheel"></div>
                <div class="loader-text"></div>
            </div>
        </div>

        <div class="my-3 d-flex justify-content-center align-items-center text-center">
            <a
               class="btn btn-cta-primary"
               href="https://www.linkedin.com/in/bercksonjohnslyjeanlouis">
                CONSULTER MON PROFIL LINKEDIN
            </a>
        </div>

    </div>

</section>